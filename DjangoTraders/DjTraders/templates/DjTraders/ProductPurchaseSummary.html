<!-- tell the page to "use" the base template -->
{% extends "base.html" %}

<!-- define the block content to be injected -->

{% block content %}

<head>
    <style>
        .card{
            background-color: #87ceeb;
        }
    </style>
</head>

<div class="card my-4 shadow">
    <div class="h6 card-header py-4">
		Product Name: {{product.product_name}}
	</div>
 
    <div class="card-body border-0">
		<div class="row row-cols-2" id="">
			<div class="col-5">
                <h2 class="">
                    Product Information
                </h2>
                <table>
                    <tbody>
                        <tr>
                            <td class="text-center"><strong>Product  :</strong></td>
                            <td>{{ product.product_name }}</td>
                        </tr>
                        <tr>
                            <td class="text-center"><strong>Category  :</strong></td>
                            <td>{{ product.category.category_name }}</td>
                        </tr>
                        <tr>
                            <td class="text-center"><strong>Price  :</strong></td>
                            <td>{{ product.price }}</td>
                        </tr>
                        <tr>
                            <td class="text-center"><strong>Unit  :</strong></td>
                            <td>{{ product.unit }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
 
            <div class="col-md-7">
                <h5 class="">Customer Purchase Details:</h5>
                <table class="table table-hover" id="PurchaseTable">
                    <thead class="table-light">
                        <tr>
                            <th>Customer</th>
                            <th>Number of Orders</th>
                            <th>Total Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for purchase in purchase_summary %}
                        <tr>
                            <td>{{ purchase.order__customer__customer_name }}</td>
                            <td>{{ purchase.total_orders }}</td>
                            <td>{{ purchase.total_quantity }}</td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="3" class="text-center">No customers have purchased this product.</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            <div>
                <a href = "{% url 'DjTraders.Products' %}">
                    <button class="btn btn-light" style="background-color:#000080; color:white;">View Product List</button>
                  </a>
            </div>
        </div>
    </div>
</div>
 
{% endblock %}
